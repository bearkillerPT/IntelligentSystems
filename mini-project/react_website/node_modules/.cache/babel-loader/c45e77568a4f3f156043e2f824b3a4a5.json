{"ast":null,"code":"var toFuture = function toFuture(s) {\n  var verbs = s.verbs(); // translate the first verb, no-stress\n\n  var first = verbs.eq(0);\n  first.toFutureTense();\n  s = s.fullSentence();\n  verbs = s.verbs(); //re-do it\n  // verbs.debug()\n  // force agreement with any 2nd/3rd verbs:\n\n  if (verbs.length > 1) {\n    verbs = verbs.slice(1); // which following-verbs should we also change?\n\n    var toChange = verbs.filter(function (vb) {\n      // remove any sorta infinitive - 'to engage'\n      if (vb.lookBehind('to$').found) {\n        return false;\n      } // is watching\n\n\n      if (vb.has('#Copula #Gerund')) {\n        return true;\n      } // keep -ing verbs\n\n\n      if (vb.has('#Gerund')) {\n        return false;\n      } // he is green and he is friendly\n\n\n      if (vb.has('#Copula')) {\n        return true;\n      } // 'he will see when he watches'\n\n\n      if (vb.has('#PresentTense') && s.has('(when|as|how)')) {\n        return false;\n      }\n\n      return true;\n    }); // otherwise, change em too\n\n    if (toChange.found) {\n      toChange.toInfinitive();\n    }\n  }\n\n  return s;\n};\n\nexport default toFuture;","map":null,"metadata":{},"sourceType":"module"}