{"ast":null,"code":"import { doOrBlock } from './logic/and-or.js';\nimport { getGroup } from '../_lib.js';\n\nvar orBlock = function orBlock(state) {\n  var regs = state.regs;\n  var reg = regs[state.r];\n  var skipNum = doOrBlock(state); // did we find a match?\n\n  if (skipNum) {\n    // handle 'not' logic\n    if (reg.negative === true) {\n      return null; // die\n    } // tuck in as named-group\n\n\n    if (state.hasGroup === true) {\n      var g = getGroup(state, state.t);\n      g.length += skipNum;\n    } // ensure we're at the end\n\n\n    if (reg.end === true) {\n      var end = state.phrase_length;\n\n      if (state.t + state.start_i + skipNum !== end) {\n        return null;\n      }\n    }\n\n    state.t += skipNum; // log(`âœ“ |found-or|`)\n\n    return true;\n  } else if (!reg.optional) {\n    return null; //die\n  }\n\n  return true;\n};\n\nexport default orBlock;","map":null,"metadata":{},"sourceType":"module"}