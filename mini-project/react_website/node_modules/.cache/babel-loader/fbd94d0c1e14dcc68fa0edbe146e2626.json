{"ast":null,"code":"import fancyThings from './byTag.js'; // derive clever things from our lexicon key-value pairs\n// this method runs as the pre-tagger plugin gets loaded\n\nvar expand = function expand(words, world) {\n  var methods = world.methods,\n      model = world.model;\n  var lex = {}; // console.log('start:', Object.keys(lex).length)\n\n  var _multi = {}; // go through each word in this key-value obj:\n\n  Object.keys(words).forEach(function (word) {\n    var tag = words[word]; // normalize lexicon a little bit\n\n    word = word.toLowerCase().trim(); // cache multi-word terms\n\n    var split = word.split(/ /);\n\n    if (split.length > 1) {\n      _multi[split[0]] = true;\n    } // do any clever-business, by it's tag\n\n\n    if (fancyThings.hasOwnProperty(tag) === true) {\n      fancyThings[tag](word, lex, methods, model);\n    }\n\n    lex[word] = lex[word] || tag;\n  }); // cleanup\n\n  delete lex[''];\n  delete lex[null];\n  delete lex[' '];\n  return {\n    lex: lex,\n    _multi: _multi\n  };\n};\n\nexport default expand;","map":null,"metadata":{},"sourceType":"module"}