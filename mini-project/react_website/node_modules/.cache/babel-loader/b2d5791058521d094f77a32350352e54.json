{"ast":null,"code":"var find = function find(doc) {\n  var m = doc.match('(#Place|#Address)+'); // split all commas except for 'paris, france'\n\n  var splits = m.match('@hasComma');\n  splits = splits.filter(function (c) {\n    // split 'europe, china'\n    if (c.has('(asia|africa|europe|america)$')) {\n      return true;\n    } // don't split 'paris, france'\n\n\n    if (c.has('(#City|#Region|#ProperNoun)$') && c.after('^(#Country|#Region)').found) {\n      return false;\n    }\n\n    return true;\n  });\n  m = m.splitAfter(splits);\n  return m;\n};\n\nexport default find;","map":null,"metadata":{},"sourceType":"module"}