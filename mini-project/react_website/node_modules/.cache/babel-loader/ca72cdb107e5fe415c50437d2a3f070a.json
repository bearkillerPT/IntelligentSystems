{"ast":null,"code":"import cli from './_color.js';\n\nvar split = function split(txt, offset, index) {\n  var buff = index * 9; //there are 9 new chars addded to each highlight\n\n  var start = offset.start + buff;\n  var end = start + offset.length;\n  var pre = txt.substring(0, start);\n  var mid = txt.substring(start, end);\n  var post = txt.substring(end, txt.length);\n  return [pre, mid, post];\n};\n\nvar spliceIn = function spliceIn(txt, offset, index) {\n  var parts = split(txt, offset, index);\n  return \"\".concat(parts[0]).concat(cli.blue(parts[1])).concat(parts[2]);\n};\n\nvar showHighlight = function showHighlight(doc) {\n  if (!doc.found) {\n    return;\n  }\n\n  var bySentence = {};\n  doc.fullPointer.forEach(function (ptr) {\n    bySentence[ptr[0]] = bySentence[ptr[0]] || [];\n    bySentence[ptr[0]].push(ptr);\n  });\n  Object.keys(bySentence).forEach(function (k) {\n    var full = doc.update([[Number(k)]]);\n    var txt = full.text();\n    var matches = doc.update(bySentence[k]);\n    var json = matches.json({\n      offset: true\n    });\n    json.forEach(function (obj, i) {\n      txt = spliceIn(txt, obj.offset, i);\n    });\n    console.log(txt); // eslint-disable-line\n  });\n};\n\nexport default showHighlight;","map":null,"metadata":{},"sourceType":"module"}