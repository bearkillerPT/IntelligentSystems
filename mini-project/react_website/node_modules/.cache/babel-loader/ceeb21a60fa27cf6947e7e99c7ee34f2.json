{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bearkiller/dev/IntelligentSystems/mini-project/react_website/src/ChatHistory.js\";\nimport React, { Component, createRef, GetDerivedStateFromProps, useRef } from 'react';\nimport ChatMessage from './ChatMessage';\n\nvar ChatHistory = /*#__PURE__*/function (_Component) {\n  _inherits(ChatHistory, _Component);\n\n  function ChatHistory() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ChatHistory);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ChatHistory)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.scrollToBottom = function () {\n      console.log(\"DOWN\");\n      if (_this.chatHistoryRef.current) _this.chatHistoryRef.current.scrollTop = _this.chatHistoryRef.current.scrollHeight;\n    };\n\n    return _this;\n  }\n\n  _createClass(ChatHistory, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToBottom();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      this.chatHistoryRef = createRef();\n      var messages = this.props.messages.map(function (message, index) {\n        return /*#__PURE__*/React.createElement(ChatMessage, {\n          key: index,\n          message: message,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 7\n          }\n        });\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chatHistory\",\n        ref: this.chatHistoryRef,\n        id: \"chatHistory\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 7\n        }\n      }, messages);\n    }\n  }]);\n\n  return ChatHistory;\n}(Component);\n\nexport default ChatHistory;","map":{"version":3,"names":["React","Component","createRef","GetDerivedStateFromProps","useRef","ChatMessage","ChatHistory","scrollToBottom","console","log","chatHistoryRef","current","scrollTop","scrollHeight","messages","props","map","message","index"],"sources":["/home/bearkiller/dev/IntelligentSystems/mini-project/react_website/src/ChatHistory.js"],"sourcesContent":["import React, { Component, createRef, GetDerivedStateFromProps, useRef } from 'react';\nimport ChatMessage from './ChatMessage'\n\nclass ChatHistory extends Component {\n  scrollToBottom = () => {\n    console.log(\"DOWN\")\n    if(this.chatHistoryRef.current)\n    this.chatHistoryRef.current.scrollTop = this.chatHistoryRef.current.scrollHeight;\n\n  }\n\n  componentDidMount() {\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate() {\n    this.scrollToBottom();\n  }\n  render() {\n    this.chatHistoryRef = createRef()\n\n    const messages = this.props.messages.map((message, index) =>\n      <ChatMessage key={index} message={message} />\n    );\n\n    return (\n      <div className=\"chatHistory\" ref={this.chatHistoryRef} id=\"chatHistory\">\n        {messages}\n      </div>\n    );\n  }\n}\n\nexport default ChatHistory;"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,wBAAtC,EAAgEC,MAAhE,QAA8E,OAA9E;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAEMC,W;;;;;;;;;;;;;;;;UACJC,c,GAAiB,YAAM;MACrBC,OAAO,CAACC,GAAR,CAAY,MAAZ;MACA,IAAG,MAAKC,cAAL,CAAoBC,OAAvB,EACA,MAAKD,cAAL,CAAoBC,OAApB,CAA4BC,SAA5B,GAAwC,MAAKF,cAAL,CAAoBC,OAApB,CAA4BE,YAApE;IAED,C;;;;;;;wCAEmB;MAClB,KAAKN,cAAL;IACD;;;yCAEoB;MACnB,KAAKA,cAAL;IACD;;;6BACQ;MAAA;;MACP,KAAKG,cAAL,GAAsBR,SAAS,EAA/B;MAEA,IAAMY,QAAQ,GAAG,KAAKC,KAAL,CAAWD,QAAX,CAAoBE,GAApB,CAAwB,UAACC,OAAD,EAAUC,KAAV;QAAA,oBACvC,oBAAC,WAAD;UAAa,GAAG,EAAEA,KAAlB;UAAyB,OAAO,EAAED,OAAlC;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EADuC;MAAA,CAAxB,CAAjB;MAIA,oBACE;QAAK,SAAS,EAAC,aAAf;QAA6B,GAAG,EAAE,KAAKP,cAAvC;QAAuD,EAAE,EAAC,aAA1D;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACGI,QADH,CADF;IAKD;;;;EA3BuBb,S;;AA8B1B,eAAeK,WAAf"},"metadata":{},"sourceType":"module"}