{"ast":null,"code":"/** some basic operations on a string to reduce noise */\nvar clean = function clean(str) {\n  str = str || '';\n  str = str.toLowerCase();\n  str = str.trim();\n  var original = str; //punctuation\n\n  str = str.replace(/[,;.!?]+$/, ''); //coerce Unicode ellipses\n\n  str = str.replace(/\\u2026/g, '...'); //en-dash\n\n  str = str.replace(/\\u2013/g, '-'); //strip leading & trailing grammatical punctuation\n\n  if (/^[:;]/.test(str) === false) {\n    str = str.replace(/\\.{3,}$/g, '');\n    str = str.replace(/[\",.!:;?)]+$/g, '');\n    str = str.replace(/^['\"(]+/g, '');\n  } // remove zero-width characters\n\n\n  str = str.replace(/[\\u200B-\\u200D\\uFEFF]/g, ''); //do this again..\n\n  str = str.trim(); //oh shucks,\n\n  if (str === '') {\n    str = original;\n  } //no-commas in numbers\n\n\n  str = str.replace(/([0-9]),([0-9])/g, '$1$2');\n  return str;\n};\n\nexport default clean;","map":null,"metadata":{},"sourceType":"module"}