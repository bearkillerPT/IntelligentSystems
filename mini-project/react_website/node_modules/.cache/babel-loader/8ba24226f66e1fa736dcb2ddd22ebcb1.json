{"ast":null,"code":"import parseVerb from './parse/index.js';\nimport getGrammar from './parse/grammar/index.js';\nimport { getTense } from './lib.js';\n\nvar toArray = function toArray(m) {\n  if (!m || !m.isView) {\n    return [];\n  }\n\n  var opts = {\n    normal: true,\n    terms: false,\n    text: false\n  };\n  return m.json(opts).map(function (s) {\n    return s.normal;\n  });\n};\n\nvar toText = function toText(m) {\n  if (!m || !m.isView) {\n    return '';\n  }\n\n  return m.text('normal');\n};\n\nvar toInfinitive = function toInfinitive(root) {\n  var verbToInfinitive = root.methods.two.transform.verbToInfinitive;\n  var str = root.text('normal');\n  return verbToInfinitive(str, root.model, getTense(root));\n};\n\nvar toJSON = function toJSON(vb) {\n  var parsed = parseVerb(vb);\n  vb = vb.clone().toView();\n  var info = getGrammar(vb, parsed);\n  return {\n    root: parsed.root.text(),\n    preAdverbs: toArray(parsed.adverbs.pre),\n    postAdverbs: toArray(parsed.adverbs.post),\n    auxiliary: toText(parsed.auxiliary),\n    negative: parsed.negative.found,\n    prefix: toText(parsed.prefix),\n    infinitive: toInfinitive(parsed.root),\n    grammar: info\n  };\n};\n\nexport default toJSON;","map":null,"metadata":{},"sourceType":"module"}