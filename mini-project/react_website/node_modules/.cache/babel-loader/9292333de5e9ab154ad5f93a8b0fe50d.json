{"ast":null,"code":"var fixUp = function fixUp(docs) {\n  var byChunk = [];\n  var current = null;\n  docs.forEach(function (terms) {\n    // ensure an adjective chunk is preceded by a copula\n    for (var i = 0; i < terms.length; i += 1) {\n      var term = terms[i];\n\n      if (current && term.chunk === current) {\n        byChunk[byChunk.length - 1].terms.push(term);\n      } else {\n        byChunk.push({\n          chunk: term.chunk,\n          terms: [term]\n        });\n        current = term.chunk;\n      }\n    }\n  }); // ensure every verb-phrase actually has a verb\n\n  byChunk.forEach(function (c) {\n    if (c.chunk === 'Verb') {\n      var hasVerb = c.terms.find(function (t) {\n        return t.tags.has('Verb');\n      });\n\n      if (!hasVerb) {\n        c.terms.forEach(function (t) {\n          return t.chunk = null;\n        });\n      }\n    }\n  });\n};\n\nexport default fixUp;","map":null,"metadata":{},"sourceType":"module"}