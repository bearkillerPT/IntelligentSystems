{"ast":null,"code":"var ones = 'one|two|three|four|five|six|seven|eight|nine';\nvar tens = 'twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|fourty';\nvar teens = 'eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen'; // this is a bit of a mess\n// segment consecutive number-words into sensible chunks\n\nvar findNumbers = function findNumbers(doc) {\n  var m = doc.match('#Value+'); //\"50 83\"\n\n  if (m.has('#NumericValue #NumericValue')) {\n    //a comma may mean two numbers\n    if (m.has('#Value @hasComma #Value')) {\n      m.splitAfter('@hasComma');\n    } else if (m.has('#NumericValue #Fraction')) {\n      m.splitAfter('#NumericValue #Fraction');\n    } else {\n      m = m.splitAfter('#NumericValue');\n    }\n  } //three-length\n\n\n  if (m.has('#Value #Value #Value') && !m.has('#Multiple')) {\n    //twenty-five-twenty\n    if (m.has('(' + tens + ') #Cardinal #Cardinal')) {\n      m = m.splitAfter('(' + tens + ') #Cardinal');\n    }\n  } //two-length ones\n\n\n  if (m.has('#Value #Value')) {\n    //june 21st 1992 is two seperate values\n    if (m.has('#NumericValue #NumericValue')) {\n      m = m.splitOn('#Year');\n    } //sixty fifteen\n\n\n    if (m.has('(' + tens + ') (' + teens + ')')) {\n      m = m.splitAfter('(' + tens + ')');\n    } //\"72 82\"\n\n\n    var double = m.match('#Cardinal #Cardinal');\n\n    if (double.found && !m.has('(point|decimal|#Fraction)')) {\n      //not 'two hundred'\n      if (!double.has('#Cardinal (#Multiple|point|decimal)')) {\n        // two fifty five\n        var noMultiple = m.has(\"(\".concat(ones, \") (\").concat(tens, \")\")); // twenty one\n\n        var tensVal = double.has('(' + tens + ') #Cardinal'); // hundredOne\n\n        var multVal = double.has('#Multiple #Value'); //one proper way, 'twenty one', or 'hundred one'\n\n        if (!noMultiple && !tensVal && !multVal) {\n          // double = double.firstTerm()\n          double.terms().forEach(function (d) {\n            m = m.splitOn(d);\n          });\n        }\n      }\n    } //seventh fifth\n\n\n    if (m.match('#Ordinal #Ordinal').match('#TextValue').found && !m.has('#Multiple')) {\n      //the one proper way, 'twenty first'\n      if (!m.has('(' + tens + ') #Ordinal')) {\n        m = m.splitAfter('#Ordinal');\n      }\n    } //fifth five\n\n\n    m = m.splitBefore('#Ordinal [#Cardinal]', 0); //five 2017 (support '5 hundred', and 'twenty 5'\n\n    if (m.has('#TextValue #NumericValue') && !m.has('(' + tens + '|#Multiple)')) {\n      m = m.splitBefore('#TextValue #NumericValue');\n    }\n  } //5-8\n\n\n  m = m.splitAfter('#NumberRange'); // june 5th 1999\n\n  m = m.splitBefore('#Year');\n  return m;\n};\n\nexport default findNumbers;","map":null,"metadata":{},"sourceType":"module"}