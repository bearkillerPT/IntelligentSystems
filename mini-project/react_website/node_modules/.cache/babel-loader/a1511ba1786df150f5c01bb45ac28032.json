{"ast":null,"code":"import { textFromDoc } from './lib/_text.js';\nimport fmts from './_fmts.js';\n\nvar isObject = function isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n};\n\nexport default {\n  /** */\n  text: function text(fmt) {\n    var opts = {\n      keepSpace: true,\n      keepPunct: true\n    };\n\n    if (fmt && typeof fmt === 'string' && fmts.hasOwnProperty(fmt)) {\n      opts = Object.assign({}, fmts[fmt]);\n    } else if (fmt && isObject(fmt)) {\n      opts = Object.assign({}, fmt, opts); //todo: fixme\n    }\n\n    if (this.pointer) {\n      opts.keepSpace = false;\n      var ptr = this.pointer[0];\n\n      if (ptr && ptr[1]) {\n        opts.keepPunct = false;\n      } else {\n        opts.keepPunct = true;\n      }\n    } else {\n      opts.keepPunct = true;\n    }\n\n    return textFromDoc(this.docs, opts);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}