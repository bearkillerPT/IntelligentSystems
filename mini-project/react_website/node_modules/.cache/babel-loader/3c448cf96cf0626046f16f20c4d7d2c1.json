{"ast":null,"code":"var banList = {\n  that: true,\n  there: true,\n  let: true,\n  here: true,\n  everywhere: true\n};\nvar beforePossessive = {\n  in: true,\n  //in sunday's\n  by: true,\n  //by sunday's\n  for: true //for sunday's\n\n};\n\nvar isPossessive = function isPossessive(terms, i) {\n  var term = terms[i]; // these can't be possessive\n\n  if (banList.hasOwnProperty(term.machine || term.normal)) {\n    return false;\n  } // if we already know it\n\n\n  if (term.tags.has('Possessive')) {\n    return true;\n  } //a pronoun can't be possessive - \"he's house\"\n\n\n  if (term.tags.has('Pronoun') || term.tags.has('QuestionWord')) {\n    return false;\n  } //if end of sentence, it is possessive - \"was spencer's\"\n\n\n  var nextTerm = terms[i + 1];\n\n  if (!nextTerm) {\n    return true;\n  } //a gerund suggests 'is walking'\n\n\n  if (nextTerm.tags.has('Verb')) {\n    //fix 'jamie's bite'\n    if (nextTerm.tags.has('Infinitive')) {\n      return true;\n    } //fix 'spencer's runs'\n\n\n    if (nextTerm.tags.has('PresentTense')) {\n      return true;\n    }\n\n    return false;\n  } //spencer's house\n\n\n  if (nextTerm.tags.has('Noun')) {\n    var nextStr = nextTerm.machine || nextTerm.normal; // 'spencer's here'\n\n    if (nextStr === 'here' || nextStr === 'there' || nextStr === 'everywhere') {\n      return false;\n    } // the chair's his\n\n\n    if (nextTerm.tags.has('Possessive')) {\n      return false;\n    } // the captain's John \n\n\n    if (nextTerm.tags.has('ProperNoun') && !term.tags.has('ProperNoun')) {\n      return false;\n    }\n\n    return true;\n  } // by sunday's final\n\n\n  if (terms[i - 1] && beforePossessive[terms[i - 1].normal] === true) {\n    return true;\n  } //rocket's red glare\n\n\n  var twoTerm = terms[i + 2];\n\n  if (twoTerm && twoTerm.tags.has('Noun') && !twoTerm.tags.has('Pronoun')) {\n    return true;\n  } //othwerwise, an adjective suggests 'is good'\n\n\n  if (nextTerm.tags.has('Adjective') || nextTerm.tags.has('Adverb') || nextTerm.tags.has('Verb')) {\n    return false;\n  }\n\n  return false;\n};\n\nexport default isPossessive;","map":null,"metadata":{},"sourceType":"module"}