{"ast":null,"code":"import fastTag from '../_fastTag.js';\nvar oneLetterAcronym = /^[A-Z]('s|,)?$/;\nvar isUpperCase = /^[A-Z-]+$/;\nvar periodAcronym = /([A-Z]\\.)+[A-Z]?,?$/;\nvar noPeriodAcronym = /[A-Z]{2,}('s|,)?$/;\nvar lowerCaseAcronym = /([a-z]\\.)+[a-z]\\.?$/;\nvar oneLetterWord = {\n  I: true,\n  A: true\n}; // just uppercase acronyms, no periods - 'UNOCHA'\n\nvar isNoPeriodAcronym = function isNoPeriodAcronym(term, model) {\n  var str = term.text; // ensure it's all upper-case\n\n  if (isUpperCase.test(str) === false) {\n    return false;\n  } // long capitalized words are not usually either\n\n\n  if (str.length > 5) {\n    return false;\n  } // 'I' is not a acronym\n\n\n  if (oneLetterWord.hasOwnProperty(str)) {\n    return false;\n  } // known-words, like 'PIZZA' is not an acronym.\n\n\n  if (model.one.lexicon.hasOwnProperty(term.normal)) {\n    return false;\n  } //like N.D.A\n\n\n  if (periodAcronym.test(str) === true) {\n    return true;\n  } //like c.e.o\n\n\n  if (lowerCaseAcronym.test(str) === true) {\n    return true;\n  } //like 'F.'\n\n\n  if (oneLetterAcronym.test(str) === true) {\n    return true;\n  } //like NDA\n\n\n  if (noPeriodAcronym.test(str) === true) {\n    return true;\n  }\n\n  return false;\n};\n\nvar isAcronym = function isAcronym(terms, i, model) {\n  var term = terms[i]; //these are not acronyms\n\n  if (term.tags.has('RomanNumeral') || term.tags.has('Acronym')) {\n    return null;\n  } //non-period ones are harder\n\n\n  if (isNoPeriodAcronym(term, model)) {\n    term.tags.clear();\n    fastTag(term, ['Acronym', 'Noun'], '3-no-period-acronym');\n    return true;\n  } // one-letter acronyms\n\n\n  if (!oneLetterWord.hasOwnProperty(term.text) && oneLetterAcronym.test(term.text)) {\n    term.tags.clear();\n    fastTag(term, ['Acronym', 'Noun'], '3-one-letter-acronym');\n    return true;\n  } //if it's a very-short organization?\n\n\n  if (term.tags.has('Organization') && term.text.length <= 3) {\n    fastTag(term, 'Acronym', '3-org-acronym');\n    return true;\n  } // upper-case org, like UNESCO\n\n\n  if (term.tags.has('Organization') && isUpperCase.test(term.text) && term.text.length <= 6) {\n    fastTag(term, 'Acronym', '3-titlecase-acronym');\n    return true;\n  }\n\n  return null;\n};\n\nexport default isAcronym;","map":null,"metadata":{},"sourceType":"module"}